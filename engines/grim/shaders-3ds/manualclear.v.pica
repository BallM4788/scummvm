; manual screen clear for Grim Fandango and Escape from Monkey Island in SCUMMVM

; Constants
.constf myConst(0.0, 1.0, 2.0, 0.5)
.alias ZEROS		 myConst.xxxx
.alias ONES			 myConst.yyyy
.alias TWOS			 myConst.zzzz
.alias NEGHALF		-myConst.wwww
.alias NEGONES		-myConst.yyyy


; Inputs
.alias inPos		v0


; Outputs
.out outPos			pos
.out outColor		clr


; Main
.entry main
.proc main
	; Coordinates are [0.0; 1.0], transform to [-1.0; 1.0]
	mov r0.xy,			inPos.xy
	mov r1.xy,			TWOS
	mad outPos.xy,		r1.xy,				r0.xy,				NEGONES
	mov outColor.rgb,	ZEROS
	mov outPos.z,		NEGHALF
	mov outColor.a,		ONES
	mov outPos.w,		ONES

	end
.end
